# ===============================================================
# PERFIL DE PRODUCCION (prod)
# ===============================================================
# Puerto del servidor (desde variable de entorno)
server.port=${SERVER_PORT}

# --- Base de Datos (desde variables de entorno) ---
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

# --- Flyway gestiona la BD ---
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.format_sql=false
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# --- JWT Secret (desde variable de entorno) ---
jwt.secret=${JWT_SECRET}

# JWT Configuration
app.auth.jwt.secret-key=${JWT_SECRET}
app.auth.jwt.expiration-time=${JWT_EXPIRATION_TIME:86400000}
app.auth.jwt.issuer=${JWT_ISSUER:Calibarber-Backend}

# Reset Token Configuration
app.auth.reset-token.expiration-time=${RESET_TOKEN_EXPIRATION_TIME:3600000}
app.auth.reset-token.token-length=${RESET_TOKEN_LENGTH:32}

# --- Mail Sender ---
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# --- Documentacion API desactivada por seguridad ---
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false

# --- CORS (desde variables de entorno) ---
cors.allowed-origins=${CORS_ALLOWED_ORIGINS}
cors.allowed-methods=${CORS_ALLOWED_METHODS}
cors.allowed-headers=${CORS_ALLOWED_HEADERS}

# --- Logging optimizado ---
logging.level.root=INFO
logging.level.com.nutrizulia=WARN
logging.level.org.springframework.security=INFO